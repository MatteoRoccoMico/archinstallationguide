# /etc/tlp.conf
# ------------------------------------------------------------
# TLP configuration for aggressive power and battery savings
# All ON_AC settings are identical to ON_BAT to always use
# battery-optimized values, effectively skipping the AC mode.
# Charge thresholds are left at default (no limits).
# AMD-focused: uses amd-pstate passive mode and powersave governor.
# Confirm amd-pstate support on your kernel with tlp-stat -p.
# ------------------------------------------------------------

# Disk I/O & Laptop Mode
DISK_IDLE_SECS_ON_AC=20
DISK_IDLE_SECS_ON_BAT=20
MAX_LOST_WORK_SECS_ON_AC=15
MAX_LOST_WORK_SECS_ON_BAT=15

# CPU Frequency Scaling
# Use AMD pstate driver mode and powersave governor for aggressive savings
CPU_DRIVER_OPMODE_ON_AC=passive
CPU_DRIVER_OPMODE_ON_BAT=passive
CPU_SCALING_GOVERNOR_ON_AC=powersave
CPU_SCALING_GOVERNOR_ON_BAT=powersave
CPU_MIN_PERF_ON_AC=20
CPU_MAX_PERF_ON_AC=60
CPU_MIN_PERF_ON_BAT=0
CPU_MAX_PERF_ON_BAT=60
CPU_BOOST_ON_AC=0
CPU_BOOST_ON_BAT=0

# AMD-specific Energy Performance Preference hints (optional)
# Uncomment if using amd_pstate_epp/amd-pstate-epp and kernel supports it.
# AMD_EPP_ON_AC=balance_power
# AMD_EPP_ON_BAT=power

# SATA / AHCI Link Power Management
SATA_LINKPWR_ON_AC=min_power
SATA_LINKPWR_ON_BAT=min_power
AHCI_RUNTIME_PM_ON_AC=min_power
AHCI_RUNTIME_PM_ON_BAT=min_power

# PCIe ASPM (Active State Power Management)
PCIE_ASPM_ON_AC=powersave
PCIE_ASPM_ON_BAT=powersave

# Runtime PM for PCI(e) Devices
RUNTIME_PM_ON_AC=on
RUNTIME_PM_ON_BAT=on

# Wi-Fi Power Saving
WIFI_PWR_ON_AC=1
WIFI_PWR_ON_BAT=1

# Bluetooth & Radio Devices
DEVICES_TO_DISABLE_ON_AC=bluetooth
DEVICES_TO_DISABLE_ON_BAT=bluetooth

# USB Autosuspend
USB_AUTOSUSPEND=1
USB_BLACKLIST=

# Sound Power Saving
SOUND_POWER_SAVE_ON_AC=0
SOUND_POWER_SAVE_ON_BAT=1

# Wake-on-LAN disabled
WOL_DISABLE=Y

# No battery charge thresholds (full charge allowed)
# BATT_SAVE_THRESH_START=
# BATT_SAVE_THRESH_STOP=

# Preserve device state on suspend/resume
RESTORE_DEVICE_STATE_ON_STARTUP=1
