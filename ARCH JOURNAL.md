# ARCH JOURNAL:

***not including specific drivers (nvidia, intel, amd, etc)***

***using micro as editor, grub as boot manager, networkd and resolved for wi-fi connection, mpv as media player***

***using hyprland tiling window manager with uwsm, and lxqt***

***thinked for efi systems***





**temporary keyboard layout change**

loadkeys *code*



**temporary connection to wireless network (wi-fi)**

iwctl

     device list

     station *device name* scan

     station *device name* get-networks

     station *device name* connect "*network name*"



**disk partitioning**

cfdisk

      *gpt*

      *new*

      *1G*

      *type*

      *EFI System*

      *new*

      *5G*  *can be more*

      *type*

      *Linux swap*

      *new*

      *remaining space or desired amount*

      *type*

      *Linux root (x86-64)*

      *write*

      *quit*



**changing partitions filesystems**

mkswap *path of linux swap partition*

mkfs.fat -F 32 *path of EFI system partition*

mkfs.ext4 *(or chosen filesystem) path to linux root partition*



**mounting partitions**

swapon *path of linux swap partition*

mount *path of linux root partition* /mnt

mount --mkdir *path of EFI system partition* /mnt/boot



**temporary installation of micro (text editor used)**

pacman -Sy

pacman -S micro



**adding multilib for package manager**

micro /etc/pacman.conf

     *uncomment following lines:*

     \[multilib]
Include = /etc/pacman.d/mirrorlist



**synchronising lists for package manager**

pacman -Sy



**non volatile installation of essential software for the system**

pacstrap -K /mnt base linux linux-firmware base-devel linux-headers git micro grub efibootmgr sudo iwd



**detect mounts and save them**

genfstab -U /mnt >> /mnt/etc/fstab



**change apparent root directory**

arch-chroot /mnt



**generate and enable locales**

micro /etc/locale.gen

     *uncomment wanted locales, recommended to uncomment (en\_US.UTF-8 UTF-8)*

locale-gen



**changing keyboard layout for tty**

micro /etc/vconsole.conf

     *add* KEYMAP=*desired layout code*



**adding a password for root**

passwd



**creating a new user with home directory and adding it to wheel**

useradd -G wheel *username* -m



**adding a password for the new user**

passwd *username*



**installing modular initramfs image creation utility**

mkinitcpio -P



**bootloader setup**

grub-install --target=x86\_64-efi --efi-directory=/boot --bootloader-id=GRUB

grub-mkconfig -o /boot/grub/grub.cfg



**temporary saving editor environment variable**

export EDITOR=micro



**adding wheel users to sudoers (allow wheel users to use sudo command)**

sudoedit /etc/sudoers

     *uncomment* uncomment %wheel ALL=(ALL) ALL) *and user password will be required to use sudo*

uncomment %wheel ALL=(ALL) ALL) NOPASSWD: ALL \*and user password will not be required to use sudo\*



**changing location/zone info**

ln -sf /usr/share/zoneinfo/*continent*/*city* /etc/localtime



**exit the live installation**

exit

reboot





#### **ON SYSTEM MODIFICATIONS**



**setup wifi network**

sudo systemctl enable --now iwd

     device list

     station *device name*, *not adapter name, so probably wlan0* scan

     station *device name* get-networks

     station *device name* connect "*network name*"



**setup network with ipv4 / dhcp**

sudo ip link *set network interface name* up

sudo systemctl enable systemd-networkd

sudo systemctl enable systemd-resolved

micro /etc/systemd/network/10-dhcp.network

     (

         ini

         \[Match]

         Name=*network interface name*



         \[Network]

         DHCP=ipv4

     )

systemctl start systemd-networkd

micro /etc/systemd/resolved.conf

     (

         \[Resolve]

         DNS=*ip of preferred dns (example: 8.8.8.8)*

     )

systemctl start systemd-resolved

micro /etc/resolv.conf

      nameserver 1.1.1.1 *cloudflare*

      nameserver 8.8.8.8 *google*

systemctl restart systemd-networkd

systemctl restart systemd-resolved



**installation of aur helper**

git clone https://aur.archlinux.org/yay.git

cd yay

makepkg -si



**set non volatile environment variables**

micro /etc/environment

*key=value*

EDITOR=micro



**terminal file explorer (ranger)**

sudo pacman -S ranger

ranger --copy-config=all

*set environment variable* RANGER\_LOAD\_DEFAULT\_RC *value to* FALSE



**installation of a DE/WM (lxqt and hyprland, foot terminal emulator, dolphin if gui file explorer is preferred)**

sudo pacman -S xorg lxqt hyprland uwsm foot wofi waybar swww firefox dolphin

micro .config/hypr/hyprland.conf

     *comment* autogenerated = 1 *line*

     *modify:*

monitor=monitor name,\*width\*x\*height\*@\*refreshrate\*,0x0\*(starting point)\*,1.0\*(scale)\*





     $terminal = foot

     $fileManager = foot -e ranger

     $menu = wofi -i --show drun --allow-images -D key\_expand=Tab



     exec-once = uwsm app -- waybar

     exec-once = swww-daemon



     bind = $mainMod, M, exec, uwsm stop

     bind = $mainMod, Q, exec, uwsm app -- \$terminal

     bind = $mainMod, E, exec, uwsm app -- \$fileManager

     bind = \$mainMod, F, fullscreen

     bind = \$mainMod, P, systemctl poweroff



     *movetoworkspace can become movetoworkspacesilent*

     *in input section the keyboard layout can be modified*



hyprland

*windows+r to open app launcher*

*open firefox and download a background*

*windows+m to logout from hyprland and go back to tty or windows=q to open terminal*



micro .config/hypr/hyprland.conf

     *under* exec-once = swww-daemon

exec-once = swww img \*path to background\*



micro ~/.config/systemd/user/kill-lxqt.service:



     ini

     \[Unit]

     Description=Kill leftover LXQt daemons

     Before=hyprland.service



     \[Service]

     Type=oneshot

     ExecStart=/usr/bin/killall lxqt-panel lxqt-globalkeysd lxqt-notificationd lxqt-session



systemctl --user enable kill-lxqt.service



**installation of session manager (sddm)**

sudo pacman -S sddm

sudo systemctl enable sddm

*if yay aur helper is installed, sugar candy is a good theme*

yay -S sddm-sugar-dark

micro /usr/lib/sddm/sddm.conf.d/default.conf

*on* [Theme] *set* Current=sugar-dark

micro /usr/share/sdd,/themes/sugar-dark/theme.conf *to modify theme*



**essential packages**

sudo pacman -S qt5ct qt6ct qt5-wayland

*add environment variables*

QT\_QPA\_PLATFORMTHEME=qt5ct

QT\_QPA\_PLATFORMTHEME=qt6ct

GTK_THEME=Adwaita:dark

GTK3_RC_FILES="$HOME/.config/gtk-3.0/settings.ini"



**waybar configuration**

mkdir -p ~/.config/waybar

cp /usr/share/waybar/config ~/.config/waybar/config 

cp /usr/share/waybar/style.css ~/.config/waybar/style.css

*if there is  no waybar folder in /usr/share it may be in /etc/xdg/waybar*

sudo pacman -S otf-font-awesome

*logout or reboot*

micro .config/waybar/waybar.jsonc

*in modules-left add* "hyprland/workspaces"

*then add*

"hyprland/workspaces": {

&nbsp;    "format": "{name}: {icon}",

&nbsp;    "format-icons": {

&nbsp;        "active": "",

&nbsp;        "default": ""

&nbsp;    },

&nbsp;    "persistent-workspaces": {

&nbsp;        "\*": 10,

&nbsp;    }

},

*in terminal*

pkill waybar

nohup waybar &



**mocz keyboard (japanese keyboard)**

sudo pacman -S fcitx5 fcitx5-configtool fcitx5-gtk fcitx-qt fcitx5-im fcitx5-mozc adobe-source-han-sans-jp-fonts adobe-source-han-serif-jp-fonts

sudo micro /etc/locale.gen

*uncomment* ja_JP.UTF-8 UTF-8

sudo locale-gen

*add*
    GTK_IM_MODULE=fcitx5
    QT_IM_MODULE=fcitx5
    XMODIFIERS="@im=fcitx5"

*to environment variables*

*logout or reboot*



**installation and configuration of media software (mpv)**

sudo pacman -S mpv

cp -r /usr/share/doc/mpv ~/.config/

micro .config/mpv/mpv.conf

      --no-osd-bar

      vo=wlshm

      --keep-open=yes



**installation of energy saving options**

sudo pacman -S python-gobject power-profiles-daemon



**installing a shutdown menu (wlogout)**

yay -S wlogout

micro .config/waybar/config.jsonc

*on custom/power/module*

"custom/power": {

      "format": "⏻",

      "tooltip": false,

      "on-click": "wlogout --protocol layer-shell"

}

micro .config/waybar/style.css

*add*

#custom-power{

      font-size: 20px;

}

cp -r /etc/wlogout .config/wlogout



**installation of note taking app (obsidian)**

sudo pacman -S obsidian

micro /usr/share/applications/obsidian.desktop

*change* Exec=/usr/bin/obsidian %U *in* Exec=env OBSIDIAN_USE_WAYLAND=1 obsidian -enable-features=UseOzonePlatform -ozone-platform=wayland -enable-wayland-ime %U


